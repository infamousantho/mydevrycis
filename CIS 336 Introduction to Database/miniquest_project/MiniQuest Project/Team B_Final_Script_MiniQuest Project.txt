
SET ECHO ON
/***************************************************************************** 
 CIS336 Team B Group Project 
 Barbara Williams 
 Cherie Ybarbo 	
 Patty Bates 
 Stephen Kisling
 Antonio Mieles
 Rahsaan Hazelwood

 MiniQuest 
 DataBase 
 Date September 04, 2011
 *****************************************************************************/ 


/*****************************
DROP TABLE Statements
******************************/

DROP TABLE SUPPLIER CASCADE CONSTRAINTS PURGE;
DROP TABLE RATING CASCADE CONSTRAINTS PURGE;
DROP TABLE PROGRAM CASCADE CONSTRAINTS PURGE;
DROP TABLE CHANNEL CASCADE CONSTRAINTS PURGE;
DROP TABLE CHANNELTYPE CASCADE CONSTRAINTS PURGE;
DROP TABLE PROGRAMCHANNEL CASCADE CONSTRAINTS PURGE;
DROP TABLE PACKAGE CASCADE CONSTRAINTS PURGE;
DROP TABLE CHAN_PACK CASCADE CONSTRAINTS PURGE;
DROP TABLE EMPLOYEE CASCADE CONSTRAINTS PURGE;
DROP TABLE CUSTOMER CASCADE CONSTRAINT PURGE;
DROP TABLE BILLING CASCADE CONSTRAINTS PURGE;
DROP TABLE SURVEY CASCADE CONSTRAINTS PURGE;
DROP TABLE CUSTPACK CASCADE CONSTRAINTS PURGE;


/******************************
TABLES Creation
ALTER Tables
PK/FK/CK Constraints 
*******************************/

CREATE TABLE CHANNELTYPE 
( 
ChanTypeId NUMBER (5) NOT NULL, 
ChanType VARCHAR2 (20) NOT NULL 
); 

ALTER TABLE CHANNELTYPE 
ADD CONSTRAINT PK_CHANNELTYPE_ChanTypeId 
PRIMARY KEY (ChanTypeId); 

CREATE TABLE SUPPLIER 
( 
SupplierId NUMBER (5) NOT NULL, 
Name VARCHAR2 (30) NOT NULL, 
StreetAddress VARCHAR2 (25), 
City VARCHAR2 (20), 
State CHAR (2), 
Zip VARCHAR2 (10), 
Phone VARCHAR2 (10), 
ContactName varchar2 (20), 
CONSTRAINT SUPPLIER_SupplierId_pk PRIMARY KEY (SupplierId) 
); 

CREATE TABLE RATING 
( 
RatingId NUMBER (3) NOT NULL, 
RatingCode VARCHAR2 (10) NOT NULL, 
RatingDesc VARCHAR2 (40) NOT NULL, 
CONSTRAINT RATING_RatingId_pk PRIMARY KEY (RatingId) 
); 

CREATE TABLE PROGRAM 
( 
ProgramId NUMBER (5) NOT NULL, 
Length NUMBER (3) NOT NULL, 
ProgramName VARCHAR2 (30) NOT NULL, 
ChanTypeId NUMBER (5) NOT NULL, 
ProgramDesc VARCHAR2 (200), 
RatingId NUMBER (5) NOT NULL, 
SupplierId NUMBER (5) NOT NULL, 
CONSTRAINT PROGRAM_ProgramId_pk PRIMARY KEY (ProgramId) 
); 

ALTER TABLE PROGRAM 
ADD CONSTRAINT fk_PROGRAM_ChanTypeId 
FOREIGN KEY (ChanTypeId) 
REFERENCES CHANNELTYPE; 
Table altered. 

ALTER TABLE PROGRAM 
ADD CONSTRAINT fk_PROGRAM_RatingId 
FOREIGN KEY (RatingId) 
REFERENCES RATING; 

ALTER TABLE PROGRAM 
ADD CONSTRAINT fk_PROGRAM_SupplierId 
FOREIGN KEY (SupplierId) 
REFERENCES SUPPLIER; 

CREATE TABLE CHANNEL 
( 
ChannelId NUMBER (5) NOT NULL, 
ChannelName VARCHAR2 (30) NOT NULL, 
ChannelNumber NUMBER (3) NOT NULL, 
ChanTypeId NUMBER (5) NOT NULL, 
CONSTRAINT CHANNEL_ChannelId_pk PRIMARY KEY (ChannelId) 
); 

ALTER TABLE CHANNEL 
ADD CONSTRAINT fk_CHANNEL_ChanTypeId 
FOREIGN KEY (ChanTypeId) 
REFERENCES CHANNELTYPE; 

CREATE TABLE PROGRAMCHANNEL 
( 
ProChannelId NUMBER (5) NOT NULL, 
ChannelId NUMBER (5) NOT NULL, 
ProgramId NUMBER (5) NOT NULL, 
ShowDateTime DATE NOT NULL, 
CONSTRAINT PROGRAMCHANNEL_prochannelid_pk PRIMARY KEY (proChannelId) 
); 

ALTER TABLE PROGRAMCHANNEL 
ADD CONSTRAINT fk_PROGRAMCHANNEL_ChannelId 
FOREIGN KEY (ChannelId) 
REFERENCES CHANNEL; 

ALTER TABLE PROGRAMCHANNEL 
ADD CONSTRAINT fk_PROGRAMCHANNEL_ProgramId 
FOREIGN KEY (ProgramId) 
REFERENCES PROGRAM; 
 
CREATE TABLE PACKAGE 
( 
PackId NUMBER (5) NOT NULL, 
PackageName VARCHAR2 (30) NOT NULL, 
PackagePrice NUMBER (8,2) NOT NULL, 
CONSTRAINT PACKAGE_PackId_pk PRIMARY KEY (PackId) 
); 

CREATE TABLE CHAN_PACK 
( 
ChannelId NUMBER (5) NOT NULL, 
PackId NUMBER (5) NOT NULL, 
CONSTRAINT CHAN_PACK_pk PRIMARY KEY (ChannelId, PackId) 
); 

ALTER TABLE CHAN_PACK 
ADD CONSTRAINT FK_CHAN_PACK_ChannelId 
FOREIGN KEY (ChannelId) 
REFERENCES CHANNEL; 

ALTER TABLE CHAN_PACK 
ADD CONSTRAINT FK_CHAN_PACK_PackId 
FOREIGN KEY (PackID) 
REFERENCES PACKAGE; 

CREATE TABLE EMPLOYEE 
( 
EmployeeId NUMBER (5) NOT NULL, 
FirstName VARCHAR2 (20), 
LastName VARCHAR2 (20), 
CONSTRAINT EMPLOYEE_EmployeeId_pk PRIMARY KEY (EmployeeId) 
); 

CREATE TABLE CUSTOMER 
( 
CustomerId NUMBER (5) NOT NULL, 
FirstName VARCHAR2 (30) NOT NULL, 
LastName VARCHAR2(30) NOT NULL, 
StartDate DATE NOT NULL, 
BillingCycle NUMBER (2) NOT NULL, 
Phone VARCHAR2 (10) NOT NULL, 
StreetAddress VARCHAR2 (30) NOT NULL, 
City VARCHAR2 (30) NOT NULL, 
State VARCHAR2 (2) NOT NULL, 
Zip NUMBER (9) NOT NULL, 
EmployeeId NUMBER (5) NOT NULL, 
Status VARCHAR2 (15) NOT NULL, 
Reason VARCHAR2 (30), 
StatusDate DATE, 
Email VARCHAR2 (50) NOT NULL, 
CONSTRAINT CUSTOMER_CustomerId_pk PRIMARY KEY (CustomerId) 
); 

ALTER TABLE CUSTOMER 
ADD CONSTRAINT fk_EMPLOYEE_EmployeeId 
FOREIGN KEY (EmployeeId) 
REFERENCES EMPLOYEE; 

ALTER TABLE CUSTOMER 
ADD CONSTRAINT CC_CUSTOMER_BillingCycle CHECK(BillingCycle IN (01,15)); 

ALTER TABLE CUSTOMER 
ADD CONSTRAINT CC_CUSTOMER_Status CHECK(Status IN ('Active','Inactive','Hold')); 

CREATE TABLE BILLING 
( 
BillingId NUMBER (5) NOT NULL, 
CustomerId NUMBER (5) NOT NULL, 
BillingDate DATE NOT NULL, 
DueAmt NUMBER (5) NOT NULL, 
DueDate DATE, 
PaidAmt NUMBER (5), 
PaidDate DATE, 
CONSTRAINT BILLING_BillingId_pk PRIMARY KEY (BillingId) 
); 

ALTER TABLE BILLING 
ADD CONSTRAINT fk_BILLING_CustomerId 
FOREIGN KEY (CustomerId) 
REFERENCES CUSTOMER; 

CREATE TABLE SURVEY 
( 
SurveyId VARCHAR2 (10) NOT NULL, 
CustomerId NUMBER (5) NOT NULL, 
SurveyDate DATE NOT NULL, 
ChannelId NUMBER (5) NOT NULL, 
CONSTRAINT SURVEY_SurveyId_pk PRIMARY KEY (SurveyId) 
); 

ALTER TABLE SURVEY 
ADD CONSTRAINT fk_SURVEY_CustomerId 
FOREIGN KEY (CustomerId) 
REFERENCES CUSTOMER; 

ALTER TABLE SURVEY 
ADD CONSTRAINT fk_SURVEY_ChannelId 
FOREIGN KEY (ChannelId) 
REFERENCES CHANNEL; 

CREATE TABLE CUSTPACK 
( 
PackID NUMBER (5) NOT NULL, 
CustomerId NUMBER (5) NOT NULL, 
SubscribeDate DATE NOT NULL 
); 

ALTER TABLE CUSTPACK 
ADD CONSTRAINT pk_CUSTPACK_PackId_CustomerId 
PRIMARY KEY (PackId, CustomerId); 

ALTER TABLE CUSTPACK 
ADD CONSTRAINT fk_cUSTPACK_PackId 
FOREIGN KEY (PackId) 
REFERENCES PACKAGE; 

ALTER TABLE CUSTPACK 
ADD CONSTRAINT fk_cUSTPACK_CustomerId 
FOREIGN KEY (CustomerId) 
REFERENCES CUSTOMER; 

/***************************************************************************** 
    Insert Statements 
*****************************************************************************/ 

--CHANNELTYPE ID 40000 

INSERT INTO CHANNELTYPE 
VALUES (40001, 'Movie Channel'); 
INSERT INTO CHANNELTYPE 
VALUES (40002, 'News Channel'); 
INSERT INTO CHANNELTYPE 
VALUES (40003, 'Lifestyle channel'); 
INSERT INTO CHANNELTYPE 
VALUES (40004, 'Documentary Channel'); 
INSERT INTO CHANNELTYPE 
VALUES (40005, 'Sports Channel'); 
 
--SUPPLIER ID 10000 

INSERT INTO SUPPLIER 
VALUES (10001, 'NBC', '10880 WILSHIRE BLVD #1200', 'LOS ANGELES', 'CA', '90024', 310365231, 'JEFF KING'); 
INSERT INTO SUPPLIER 
VALUES (10002, 'ABC', NULL, 'LOS ANGELES', 'CA', '90024', 3108409966, 'JACK CAVERISI'); 
INSERT INTO SUPPLIER 
VALUES (10003, 'FOX', '10960 WILSHIRE BLVD', 'LOS ANGELES', 'CA', '90024', 3102355233, 'JANIS CARMIKEL'); 
INSERT INTO SUPPLIER 
VALUES (10004, 'WARNER', '3701 W OAK ST', 'BURBANK', 'CA', '91505', '3105326588', 'SIMON PHILIPS'); 
INSERT INTO SUPPLIER 
VALUES(10005, 'HBO', '1100 AVE OF AMERICAS', 'NEW YORK', 'NY', '10036', '2125121208', 'ALLISON MARKS'); 
INSERT INTO SUPPLIER 
VALUES(10006, 'STARZ', '8900 LIBERTY CIRCLE', 'ENGLEWOOD', 'CO', '80112', '7208527700', 'GREG HUNTER'); 
INSERT INTO SUPPLIER 
VALUES(10007, 'DISNEY', '500 S BUENA VISTA ST', 'BURBANK', 'CA', '91521', '3104589960', 'JENNIFER ROSS'); 

--RATING ID 100 

INSERT INTO RATING 
VALUES (101, 'TV-Y', 'ALL CHILDREN'); 
INSERT INTO RATING 
VALUES (102, 'TV-Y7', 'OLDER CHILDREN'); 
INSERT INTO RATING 
VALUES (103, 'TV-7YFV', 'OLDER CHILDREN - FANTASY VIOLENCE'); 
INSERT INTO RATING 
VALUES (104, 'TV-G', 'GENERAL AUDIENCE'); 
INSERT INTO RATING 
VALUES (105, 'TV-PG', 'PARENTAL GUIDANCE SUGGESTED'); 
INSERT INTO RATING 
VALUES (106, 'TV-14', 'PARENTS STRONGLY CAUTIONED'); 
INSERT INTO RATING 
VALUES (107, 'TV-MA', 'MATURE AUDIENCES RECCOMENDED'); 
INSERT INTO RATING 
VALUES (108, 'TV-R', 'RESTRICTED - ADULTS ONLY'); 

--PROGRAM ID 20000 
 
INSERT INTO PROGRAM 
VALUES (20001, 270, 'STARRY WARS THE TRILOGY', 40001, 'SCIENCE FICTION EPIC ABOUT THE GENERATION OF A BRaVE NEW WORLD', 107, 10005); 
INSERT INTO PROGRAM 
VALUES (20002, 30, 'GOMER PILES THE HERO', 40001, 'COMEDY SHOWING THE ADVANTAGES OF BEING AN ARMY SERGEANT', 105, 10005); 
INSERT INTO PROGRAM 
VALUES (20003, 180, 'TWINKLE TOES IN PARIS', 40001, 'ROMANTIC DRAMA ABOUT A SCOTTISH CALLET DANCER MAKING HIS FORTUNE', 107, 10003); 
INSERT INTO PROGRAM 
VALUES (20004, 150, 'SEGALL IN NEW YORK', 40001, 'HORROR ACTION ABOUT TERRORISTS WHO TAKE OVER A NEw YORK CEMETARY. CAN IT BE BROUGHT BACK UNDER CONTROL?', 108, 10006); 
INSERT INTO PROGRAM 
VALUES (20005, 155, 'FANTASIA', 40002, 'DISNEY FAVORITE', 104, 10007); 
INSERT INTO PROGRAM 
VALUES (20006, 240, 'DANCES WITH FAIRIES', 40002, 'NEW AGE MOVIE SHOWING THE INTERACTION OF HUMANS IN THE AFTERLIFE', 107, 10005); 
INSERT INTO PROGRAM 
VALUES (20007, 180, 'SPEED 34', 40002, 'THE SPACE SHUTTLE IS TAKEN OVER BY ALIENS. BRUCE WILLIS TO FIX THE PROBLEM', 106, 10003); 
INSERT INTO PROGRAM 
VALUES (20008, 150, 'PRETTIER WOMAN', 40002, 'DRAMA ABOUT A WOMAN WHO LEARNS TO DEAL WITH THE TRUTH IN HER LIFE', 106, 10006); 
INSERT INTO PROGRAM 
VALUES (20009, 30, 'KILLING THE KARDASHIANS', 40003, 'THE HUNT TO ELIMINATE THE KARDASHIANS CONTINUES!!!', 105, 10001); 
INSERT INTO PROGRAM 
VALUES (20010, 60, 'DR CRIB MD', 40004, 'DR CRIB BATTLES HIS PLAYSTATION 5 ADDICTION WHILE TRYING TO CURE SICK ANDROIDS', 104, 10004); 
INSERT INTO PROGRAM 
VALUES (20011, 30, 'GONE POSTAL', 40002, 'AN IN DEPTH LOOK AT LIFE AS A POSTAL WORKER... VOLUNTEER TODAY!', 104, 10002); 
INSERT INTO PROGRAM 
VALUES (20012, 60, 'TOMORROW', 40002, 'COVERING TOMORROWS EVENTS..... TODAY!', 102, 10003); 
INSERT INTO PROGRAM 
VALUES (20013, 60, 'THE PC WHISPERERS', 40004, 'WE FOLLOW THE WORLDS GREATEST IT WORKERS AROUND THE WORLD', 101, 10004); 
INSERT INTO PROGRAM 
VALUES (20014, 150, 'WARGAMES 2', 40001, 'THE HACKER STORY IS BACK FOR PART 2!', 106, 10006); 
INSERT INTO PROGRAM 
VALUES (20015, 30, 'CARS', 40004, 'A CARTOON BASED ON THE MOVIES', 101, 10007); 
INSERT INTO PROGRAM 
VALUES (20016, 30, 'THE HENDECAMOM', 40003, 'REALITY SHOW BASED ON WOMAN RAISING HER 11 CHILDREN AFTER FERTILIZATION TREATMENTS', 105, 10003); 
INSERT INTO PROGRAM 
VALUES (20017, 180, 'MONDAY NIGHT CURLING', 40005, 'CURLING AT ITS MOST COMPETETIVE!', 101, 10002); 
INSERT INTO PROGRAM 
VALUES (20018, 180, 'BEER PONG CHAMPIONSHIPS', 40005, 'BEER PONG COLLEGIATE CHAMPION TAKES ON ARMED FORCES CHAMPION', 108, 10003); 
INSERT INTO PROGRAM 
VALUES (20019, 30, 'WASHCLOTH WILLY ', 40004, 'THE ADVENTURES OF WASHCLOTH WILLY AND HIS BATHTIME PALS', 101, 10007); 
INSERT INTO PROGRAM 
VALUES (20020, 30, 'HAPPY FACTOR', 40004, 'MAKING PEOPLE HAPPY TO SEE HOW THEY REACT', 102, 10002); 
INSERT INTO PROGRAM 
VALUES (20021, 60, 'LOCAL NEWS', 40002, 'YOUR DAILY LOCAL NEWS', 102, 10003); 
INSERT INTO PROGRAM 
VALUES (20022, 120, 'THE LION KING', 40004, 'DISNEY CLASSIC OF THE LION KING', 101, 10007); 
INSERT INTO PROGRAM 
VALUES (20023, 60, 'FINDING GOD THROUGH HYPNOTISM', 40003, 'PASTOR GRAHAM CONVERTS VIEWERS THROUGH HYPNOSIS', 103, 10001); 
INSERT INTO PROGRAM 
VALUES (20024, 120, 'CELEBRITY UFC', 40005, 'JOLIE VS ANNISTON, MATHERS VS CANNON, MANNING VS BRADY', 107, 10003); 
INSERT INTO PROGRAM 
VALUES (20025, 150, 'TWILIGHT VS BLADE', 40001, 'AFTER BITING THE WRONG TEENAGE GIRL THE TWILIGHT VAMPIRES ENCOUNTER A VENGEFUL BLADE', 106, 10005); 
 
--CHANNEL ID 30000 
 
INSERT INTO CHANNEL 
VALUES (30001, 'HBO', 01, 40001); 
INSERT INTO CHANNEL 
VALUES (30002, 'STARZ', 02, 40001); 
INSERT INTO CHANNEL 
VALUES (30003, 'CNN', 03, 40002); 
INSERT INTO CHANNEL 
VALUES (30004, 'FOX NEWS', 04, 40002); 
INSERT INTO CHANNEL 
VALUES (30005, 'HOME and GARDEN', 05, 40003); 
INSERT INTO CHANNEL 
VALUES (30006, 'FOOD NETWORK', 06, 40003); 
INSERT INTO CHANNEL 
VALUES (30007, 'HISTORY CHANNEL', 07, 40004); 
INSERT INTO CHANNEL 
VALUES (30008, 'NATGEO', 08, 40004); 
INSERT INTO CHANNEL 
VALUES (30009, 'NFL NETWORK', 09, 40005); 
INSERT INTO CHANNEL 
VALUES (30010, 'SPORTS CHANNEL', 10, 40005); 
 
--PROGRAMCHANNEL ID 50000 

INSERT INTO PROGRAMCHANNEL 
VALUES (50001, 30001, 20001, '03-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50002, 30005, 20002, '02-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50003, 30002, 20003, '03-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50004, 30001, 20004, '04-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50005, 30002, 20005, '07-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50006, 30002, 20006, '03-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50007, 30001, 20007, '03-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50008, 30002, 20008, '08-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50009, 30006, 20009, '03-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50010, 30008, 20010, '02-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50011, 30004, 20011, '05-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50012, 30003, 20012, '04-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50013, 30008, 20013, '04-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50014, 30002, 20014, '05-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50015, 30007, 20015, '02-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50016, 30005, 20016, '07-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50017, 30010, 20017, '06-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50018, 30009, 20018, '03-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50019, 30007, 20019, '01-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50020, 30007, 20020, '01-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50021, 30004, 20021, '01-DEC-2011'); 
INSERT INTO PROGRAMcHANNEL 
VALUES (50022, 30005, 20022, '06-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50023, 30010, 20023, '05-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50024, 30001, 20024, '04-DEC-2011'); 
INSERT INTO PROGRAMCHANNEL 
VALUES (50025, 30002, 20025, '03-DEC-2011'); 

--PACKAGE ID 60000 
 
INSERT INTO PACKAGE 
VALUES (60001, 'Movies Galore', 30); 
INSERT INTO PACKAGE 
VALUES (60002, 'News Globe', 30); 
INSERT INTO PACKAGE 
VALUES (60003, 'Total Watcher', 40); 
INSERT INTO PACKAGE 
VALUES (60004, 'Couch Potato', 50); 
 
--CHAN_PACK 

--01 
INSERT INTO CHAN_PACK 
VALUES (30001, 60001); 
INSERT INTO CHAN_PACK 
VALUES (30001, 60002); 
INSERT INTO CHAN_PACK 
VALUES (30001, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30001, 60004); 
 
--02 
INSERT INTO CHAN_PACK 
VALUES (30002, 60001); 
INSERT INTO CHAN_PACK 
VALUES (30002, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30002, 60004); 

--03 
INSERT INTO CHAN_PACK 
VALUES (30003, 60001); 
INSERT INTO CHAN_PACK 
VALUES (30003, 60002); 
INSERT INTO CHAN_PACK 
VALUES (30003, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30003, 60004); 

--04 
INSERT INTO CHAN_PACK 
VALUES (30004, 60002); 
INSERT INTO CHAN_PACK 
VALUES (30004, 60004); 

--05 
INSERT INTO CHAN_PACK 
VALUES (30005, 60004); 
 
--06 
INSERT INTO CHAN_PACK 
VALUES (30006, 60001); 
INSERT INTO CHAN_PACK 
VALUES (30006, 60002); 
INSERT INTO CHAN_PACK 
VALUES (30006, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30006, 60004); 

--07 
INSERT INTO CHAN_PACK 
VALUES (30007, 60001); 
INSERT INTO CHAN_PACK 
VALUES (30007, 60002); 
INSERT INTO CHAN_PACK 
VALUES (30007, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30007, 60004); 

--08 
INSERT INTO CHAN_PACK 
VALUES (30008, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30008, 60004); 

--09 
INSERT INTO CHAN_PACK 
VALUES (30009, 60001); 
INSERT INTO CHAN_PACK 
VALUES (30009, 60002); 
INSERT INTO CHAN_PACK 
VALUES (30009, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30009, 60004); 

--10 
INSERT INTO CHAN_PACK 
VALUES (30010, 60003); 
INSERT INTO CHAN_PACK 
VALUES (30010, 60004); 
 
--EMPLOYEE ID 70000 
 
INSERT INTO EMPLOYEE 
VALUES (70001, 'David','Troy'); 
INSERT INTO EMPLOYEE 
VALUES (70002, 'Tyler','Stevenson'); 
INSERT INTO EMPLOYEE 
VALUES (70003, 'Drew','Nielson'); 
 
--CUSTOMER ID 80000 
 
--1 
INSERT INTO CUSTOMER 
VALUES (80001, 'Ned','Nedson','01-JAN-2011',01,9565556666,'852 Ned Lane','Alamo','TX',78516,70001,'Active',NULL,'01-JAN-2011','Nedned@msn.com'); 

--2 
INSERT INTO CUSTOMER 
VALUES (80002,'Steve','Smith','15-JAN-2011',15,9563445566,'655 Cherry Lane','Alamo','TX',78516,70002,'Inactive','Did Not Pay Bill','01-NOV-2011','Smithinator@live.net'); 

--3 
INSERT INTO CUSTOMER 
VALUES (80003,'Lindsay','Oscar','04-FEB-2010',15,9363445786,'200 Heffer Road','Dayton','TX',77535,70003,'Active', NULL,'15-OCT-2011','Lindsosc@gmail.com'); 

--4 
INSERT INTO CUSTOMER 
VALUES (80004, 'Greg', 'Morrow', '16-MAR-2011', 01, 9365551425, '133 Lemmon Hollow Rd', 'Dayton', 'TX', 77535, 70002, 'Active', NULL, '16-MAR-2011', 'lmorrow@yahoo.com'); 

--5 
INSERT INTO CUSTOMER 
VALUES (80005, 'Melody', 'Dolphan', '05-APR-2011', 01, 4095561547, '600 Kohlersburg Rd', 'Jasper', 'TX', 75951, 70001, 'Active', NULL, '05-APR-2011', 'melodydo@gmail.com'); 

--6 
INSERT INTO CUSTOMER 
VALUES (80006, 'Joseph', 'Vereb', '10-JUN-2011', 15, 4095248562, '570 Pudum St', 'Jasper', 'TX', 75951, 70003, 'Active', NULL, '10-JUN-2011', 'verebj@yahoo.com'); 

--7 
INSERT INTO CUSTOMER 
VALUES (80007,'Leanna','Hanson','23-MAY-2009',15,7245674398,'450 Princess Ln','Lawton','TX',75901,70002,'Active', NULL,'01-NOV-2011','Lhanny@comcast.net'); 

--8 
INSERT INTO CUSTOMER 
VALUES (80008,'Jarrad','Nero','06-JUN-2010',01,8156879090,'444 Alabama Ave','Round Rock','TX',74621,70001,'Active',NULL,'18-MAR-2011','Nerojar@gmail.com'); 

--9 
INSERT INTO CUSTOMER 
VALUES (80009,'Henry','Benner','30-JUL-2011',15,6119805432,'1004 Kelton Ave','San Angelo','TX',76458,70002,'Active',NULL,'03-JUN-2010','Bennah@yahoo.com'); 
 
--10 
INSERT INTO CUSTOMER 
VALUES (80010,'Molly','Fiore','02-AUG-2010',01,4123446575,'84 Dawn Avenue','Lawton','TX',78090,70003,'Active',NULL,'09-SEP-2011','Fioremol@gmail.com'); 

--11 
INSERT INTO CUSTOMER 
VALUES (80011,'Clint','Skrillen','16-SEP-2011',15,5123789065,'44 Charm Ave','Carlsba','TX',81010,70001,'Active', NULL,'09-NOV-2011','Cskrillent@msn.com'); 

--12 
INSERT INTO CUSTOMER 
VALUES (80012,'William','Bengy','20-OCT-2010',01,6547218934,'502 Cochran Rd','Norman','TX',81209,70003,'Active',NULL,'08-OCT-2011','Benwamin@gmail.com'); 

--13 
INSERT INTO CUSTOMER 
VALUES (80013, 'Raymond', 'Delacour', '01-DEC-2011', 01, 9365554826, '124 Balum Blvd', 'Dayton', 'TX', 77535, 70003, 'Active', NULL, '01-DEC-2011', 'dray@gmail.com'); 

--14 
INSERT INTO CUSTOMER 
VALUES (80014, 'Frank', 'Johnson', '01-DEC-2011', 01, 409651895, '611 Butler Rd', 'Jasper', 'TX', 75901, 70002, 'Active', NULL, '01-DEC-2011', 'fkjohnson@live.com'); 
 
--BILLING ID 90000 
 
--SEPTEMBER 
INSERT INTO BILLING 
VALUES (90001, 80001, '01-SEP-2011', 50, '25-SEP-2011', 50, '05-SEP-2011'); 
INSERT INTO BILLING 
VALUES (90002, 80002, '15-SEP-2011', 30, '09-OCT-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90003, 80003, '15-SEP-2011', 30, '09-OCT-2011', 30, '19-SEP-2011'); 
INSERT INTO BILLING 
VALUES (90004, 80004, '01-SEP-2011', 40, '25-SEP-2011', 40, '22-SEP-2011'); 
INSERT INTO BILLING 
VALUES (90005, 80005, '01-SEP-2011', 30, '25-SEP-2011', 30, '15-SEP-2011'); 
INSERT INTO BILLING 
VALUES (90006, 80006, '15-SEP-2011', 30, '09-OCT-2011', 30, '03-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90007, 80007, '15-SEP-2011', 50, '09-OCT-2011', 50, '03-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90008, 80008, '01-SEP-2011', 30, '25-SEP-2011', 30, '19-SEP-2011'); 
INSERT INTO BILLING 
VALUES (90009, 80009, '15-SEP-2011', 40, '09-OCT-2011', 40, '03-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90010, 80010, '01-SEP-2011', 30, '25-SEP-2011', 30, '19-SEP-2011'); 
INSERT INTO BILLING 
VALUES (90011, 80011, '15-SEP-2011', 40, '09-OCT-2011', 40, '03-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90012, 80012, '01-SEP-2011', 40, '25-SEP-2011', 40, '19-SEP-2011'); 

--OCTOBER 
INSERT INTO BILLING 
VALUES (90013, 80001, '01-OCT-2011', 50, '25-OCT-2011', 50, '05-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90014, 80002, '15-OCT-2011', 60, '09-NOV-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90015, 80003, '15-OCT-2011', 30, '09-NOV-2011', 30, '19-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90016, 80004, '01-OCT-2011', 40, '25-OCT-2011', 40, '22-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90017, 80005, '01-OCT-2011', 30, '25-OCT-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90018, 80006, '15-OCT-2011', 30, '09-NOV-2011', 30, '03-NOV-2011'); 
INSERT INTO BILLING 
VALUES (90019, 80007, '15-OCT-2011', 50, '09-NOV-2011', 50, '22-OCT-2011'); 
INSERT INTO BILLING 
VALUES (90020, 80008, '01-OCT-2011', 30, '25-OCT-2011', 30, '03-DEC-2011'); 
INSERT INTO BILLING 
VALUES (90021, 80009, '15-OCT-2011', 40, '09-NOV-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90022, 80010, '01-OCT-2011', 30, '25-OCT-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90023, 80011, '15-OCT-2011', 40, '09-NOV-2011', 40, '03-NOV-2011'); 
INSERT INTO BILLING 
VALUES (90024, 80012, '01-OCT-2011', 40, '25-OCT-2011', 40, '22-OCT-2011'); 

--NOVEMBER 
INSERT INTO BILLING 
VALUES (90025, 80001, '01-NOV-2011', 50, '25-NOV-2011', 50, '05-NOV-2011'); 
INSERT INTO BILLING 
VALUES (90026, 80002, '15-NOV-2011', 60, '09-DEC-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90027, 80003, '15-NOV-2011', 30, '09-DEC-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90028, 80004, '01-NOV-2011', 40, '25-NOV-2011', 40, '22-NOV-2011'); 
INSERT INTO BILLING 
VALUES (90029, 80005, '01-NOV-2011', 60, '25-NOV-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90030, 80006, '15-NOV-2011', 30, '09-DEC-2011', 30, '03-DEC-2011'); 
INSERT INTO BILLING 
VALUES (90031, 80007, '15-NOV-2011', 50, '09-DEC-2011', 50, '03-DEC-2011'); 
INSERT INTO BILLING 
VALUES (90032, 80008, '01-NOV-2011', 30, '25-NOV-2011', 30, '22-NOV-2011'); 
INSERT INTO BILLING 
VALUES (90033, 80009, '15-NOV-2011', 40, '09-DEC-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90034, 80010, '01-NOV-2011', 30, '25-NOV-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90035, 80011, '15-NOV-2011', 40, '09-DEC-2011', 40, '03-DEC-2011'); 
INSERT INTO BILLING 
VALUES (90036, 80012, '01-NOV-2011', 40, '25-NOV-2011', 40, '22-NOV-2011'); 

--DECEMBER 
INSERT INTO BILLING 
VALUES (90037, 80013, '01-DEC-2011', 30, '25-DEC-2011', NULL, NULL); 
INSERT INTO BILLING 
VALUES (90038, 80014, '01-DEC-2011', 30, '25-DEC-2011', NULL, NULL); 
 
--SURVEY 
 
INSERT INTO SURVEY 
VALUES ('NEDSO80001', 80001, '10-JAN-2011', 30001); 
INSERT INTO SURVEY 
VALUES ('SMITH80002', 80002, '15-JAN-2011', 30010); 
INSERT INTO SURVEY 
VALUES ('OSCAR80003', 80003, '04-FEB-2010', 30005); 
INSERT INTO SURVEY 
VALUES ('OSCAR80004', 80004, '16-MAR-2011', 30009); 
INSERT INTO SURVEY 
VALUES ('OSCAR80005', 80005, '05-APR-2011', 30007); 
INSERT INTO SURVEY 
VALUES ('OSCAR80006', 80006, '10-JUN-2011', 30002); 
INSERT INTO SURVEY 
VALUES ('HANSO80007', 80007, '23-MAY-2009', 30003); 
INSERT INTO SURVEY 
VALUES ('NEROJ80008', 80008, '06-JUN-2010', 30001);  
INSERT INTO SURVEY 
VALUES ('BENNE80009', 80009, '30-JUL-2011', 30006); 
INSERT INTO SURVEY 
VALUES ('FIORE80010', 80010, '02-AUG-2010', 30002); 
INSERT INTO SURVEY 
VALUES ('SKRIL80011', 80011, '16-SEP-2011', 30001); 
INSERT INTO SURVEY 
VALUES ('BENGY80012', 80012, '20-OCT-2010', 30004); 
INSERT INTO SURVEY 
VALUES ('DELAC80013', 80013, '01-DEC-2011', 30008); 
INSERT INTO SURVEY 
VALUES ('JOHNS80014', 80014, '01-DEC-2011', 30001); 
 
--CUSTOMERPACKAGE 
 
INSERT INTO CUSTPACK 
VALUES (60004, 80001, '10-JAN-2011'); 
INSERT INTO CUSTPACK 
VALUES (60001, 80002, '15-JAN-2011'); 
INSERT INTO CUSTPACK 
VALUES (60002, 80003, '04-FEB-2010'); 
INSERT INTO CUSTPACK 
VALUES (60003, 80004, '16-MAR-2011'); 
INSERT INTO CUSTPACK 
VALUES (60002, 80005, '05-APR-2011'); 
INSERT INTO CUSTPACK 
VALUES (60001, 80006, '10-JUN-2011'); 
INSERT INTO CUSTPACK 
VALUES (60004, 80007, '23-MAY-2009'); 
INSERT INTO CUSTPACK 
VALUES (60002, 80008, '06-JUN-2010'); 
INSERT INTO CUSTPACK 
VALUES (60003, 80009, '30-JUL-2011'); 
INSERT INTO CUSTPACK 
VALUES (60001, 80010, '02-AUG-2010'); 
INSERT INTO CUSTPACK 
VALUES (60003, 80011, '16-SEP-2011'); 
INSERT INTO CUSTPACK 
VALUES (60003, 80012, '20-OCT-2010'); 
INSERT INTO CUSTPACK 
VALUES (60001, 80013, '01-DEC-2011'); 
INSERT INTO CUSTPACK 
VALUES (60002, 80014, '01-DEC-2011'); 


/***************************************************************************** 
 WEEK 6 TASK 4 QUERY STATEMENT 
*****************************************************************************/ 

SELECT firstname, lastname, status, statusdate, reason 
FROM customer; 

UPDATE CUSTOMER 
SET status = 'Inactive' 
WHERE customerid IN 
(SELECT customerid 
FROM billing 
WHERE (SYSDATE > (duedate + 30)) AND (paiddate IS NULL)) AND (status = 'Active'); 
 
UPDATE CUSTOMER 
SET statusdate = '01-DEC-2011' 
WHERE customerid IN 
(SELECT customerid 
FROM billing 
WHERE (SYSDATE > (duedate + 30)) AND (reason IS NULL)) AND (status = 'Inactive'); 
 
UPDATE CUSTOMER 
SET reason = 'Did Not Pay Bill' 
WHERE customerid IN 
(SELECT customerid 
FROM billing 
WHERE (SYSDATE > (duedate + 30)) AND (reason IS NULL)) AND (status = 'Inactive'); 

SELECT firstname, lastname, status, statusdate, reason 
FROM customer; 

/***************************************************************************** 
WEEK 7 TASK 5 Reports 
*****************************************************************************/ 

/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
Report 1 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ 
 
DROP VIEW ALL_PROGRAMS; 
 
CREATE VIEW ALL_PROGRAMS AS 
SELECT DISTINCT channel.channelnumber, supplier.name, package.packagename, program.programname, rating.ratingcode, programchannel.showdatetime 
FROM channel, supplier, package, program, rating, programchannel, chan_pack 
WHERE program.ratingid = rating.ratingid 
AND program.programid = programchannel.programid 
AND program.chantypeid = channel.chantypeid 
AND program.supplierid = supplier.supplierid 
AND program.programid = programchannel.programid 
AND programchannel.channelid = chan_pack.channelid 
AND chan_pack.packid = package.packid; 
 
SELECT * 
FROM all_programs 
WHERE showdatetime = '03-DEC-2011'; 

/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
Report 2 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ 
 
SELECT 
pk.PackageName as "Package", ch.ChannelNumber, 
r1.ProgramName as "Title", 
r1.ShowDateTime as "Show Time", 
r1.RatingDesc as "Rating" 
FROM Chan_Pack cp, package pk, channel ch, (SELECT sg.ChannelId, r2.ProgramName,sg.ShowDateTime, r2.RatingDesc 
FROM ProgramChannel sg, (SELECT r.RatingDesc, prg.ProgramId, prg.ProgramName 
From rating r, program prg 
WHERE r.RatingId = prg.RatingId) r2 
WHERE 
sg.ProgramId = r2.ProgramId) r1 
WHERE 
cp.PackId = pk.PackId AND 
cp.ChannelId = ch.ChannelId AND 
r1.ChannelId = ch.ChannelId; 

/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
Report 3 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ 
 
DROP VIEW NEW_CUST; 
 
CREATE VIEW NEW_CUST AS 
SELECT firstname||' '||lastname "Customer Name", streetaddress, city, state, zip, status, packagename, packageprice, startdate 
FROM customer a, custpack b, package c 
WHERE a.customerid = b.customerid 
AND b.packid = c.packid; 

SELECT * 
FROM new_cust 
WHERE startdate = '01-DEC-2011'; 


/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
Report 4 NEED TO UPDATE 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ 
 
DROP VIEW CUST_INACT; 
 
CREATE VIEW CUST_INACT AS 
SELECT DISTINCT c.customerid, lastname|| ', ' ||firstname "Customer Name", streetaddress|| ', ' ||city|| ', ' || ' ' ||zip "Address", 
status, statusdate, dueamt "Amount Due", duedate, reason, 
(SUBSTR(phone, 1, 3)|| '-' || SUBSTR(phone, 4, 3)|| '-' || SUBSTR(phone, 7,10)) AS "Phone Number", 
statusdate "Status Date" 
FROM customer c, billing b 
WHERE (c.customerid = b.customerid) AND (SYSDATE > (duedate + 30)) AND (paiddate IS NULL); View created. 
 
SELECT DISTINCT * 
FROM cust_inact 
WHERE (status = 'Inactive') AND (statusdate = '01-DEC-2011'); 


/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
Report 5 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ 
 
DROP VIEW CUST_CHAN; 
 
CREATE VIEW CUST_CHAN AS 
SELECT channelname, channelnumber, count (s.channelid) AS "FAVORITE" 
FROM channel c 
INNER JOIN survey s ON c.channelid = s.channelid 
GROUP BY channelnumber, channelname; 
 
SELECT DISTINCT * 
FROM cust_chan 
ORDER BY channelnumber; 

/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
Report 6 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/ 
 
DROP VIEW sum_sales; 
 
CREATE VIEW sum_sales AS 
SELECT p.packid, packagename, TO_CHAR(packageprice, '$999.99') AS "PACKAGE PRICE", COUNT(b.customerid) AS "QTY SOLD", 
TO_CHAR(packageprice, '$9999.99') "TOTAL PACKAGE" 
FROM package p 
INNER JOIN custpack c ON p.packid = c.packid 
INNER JOIN billing b ON c.customerid = b.customerid 
GROUP BY p.packid, packagename, packageprice; 
 
SELECT * 
FROM sum_sales 
WHERE packid IN (SELECT packid 
FROM custpack 
WHERE subscribedate = '01-DEC-2011'); 


SPOOL OFF